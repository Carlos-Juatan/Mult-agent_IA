{
  "name": "MCP_Server",
  "nodes": [
    {
      "parameters": {
        "path": "test"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 1,
      "position": [
        16,
        0
      ],
      "id": "5364396d-3c05-49cd-bd58-201a33414034",
      "name": "MCP Server Trigger",
      "webhookId": "c52838aa-31ad-4985-984e-4675da4828ce",
      "alwaysOutputData": false,
      "executeOnce": false,
      "retryOnFail": false
    },
    {
      "parameters": {
        "name": "inicialService",
        "description": "### 1. CHAT IA | ATENDIMENTO INICIAL (`inicialService`)\n**Fun√ß√£o**: Ponto de entrada para todas as conversas novas\n\n**QUANDO USAR**:\n- Sempre que o usu√°rio inicia uma nova conversa\n- Quando a inten√ß√£o do usu√°rio n√£o est√° clara\n- Quando √© necess√°rio coletar informa√ß√µes iniciais sobre necessidades est√©ticas\n\n**QUANDO N√ÉO USAR**:\n- Esse chat n√£o responde d√∫vidas espec√≠ficas sobre produtos ou surf\n- Esse chat n√£o consulta informa√ß√µes detalhadas sobre a loja ou aulas de surf\n- Esse chat n√£o apresenta o cat√°logo de produtos ou aulas de surf\n- Esse chat n√£o faz recomenda√ß√µes personalizadas de produtos ou aulas de surf\n- Esse chat n√£o processa agendamentos\n",
        "workflowId": {
          "__rl": true,
          "value": "7zEsrWJGc5p9fhcS",
          "mode": "list",
          "cachedResultName": "üí≠ CHAT IA | ATENDIMENTO INICIAL"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `Ser√° a quest√£o enviada pelo o usu√°rio`, 'string') }}",
            "memory": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('memory', `Ser√° a memoria do chadtdo usu√°rio presente em \"Mem√≥ria do Usu√°rio (memory):\".`, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        -272,
        32
      ],
      "id": "e1de6c59-8a36-429c-8f56-69e2028f3033",
      "name": "inicialService"
    },
    {
      "parameters": {
        "name": "rag",
        "description": "### 2. CHAT IA | ESCLARECIMENTO DE D√öVIDAS (`rag`)\n**Fun√ß√£o**: Fornecer informa√ß√µes sobre os produtos da loja e sobre aulas de surf\n\n**QUANDO USAR**:\n- Quando o usu√°rio tem d√∫vidas sobre produtos da loja\n- Quando o usu√°rio pergunta sobre produtos espec√≠ficos\n- Quando o usu√°rio precisa de informa√ß√µes sobre pre√ßos, dura√ß√£o ou tipo de produto\n- Quando o usu√°rio questiona sobre equipamentos para aula de surf\n\n**QUANDO N√ÉO USAR**:\n- Esse chat n√£o faz recomenda√ß√µes personalizadas baseadas no perfil do cliente\n- Esse chat n√£o realiza agendamentos de aulas ou vendas de produtos\n- Esse chat n√£o coleta informa√ß√µes detalhadas do cliente\n",
        "workflowId": {
          "__rl": true,
          "value": "e0T0lEt4RjvJlrsL",
          "mode": "list",
          "cachedResultName": "üí≠ CHAT IA | RAG"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `Ser√° a quest√£o enviada pelo o usu√°rio`, 'string') }}",
            "memory": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('memory', `Ser√° a memoria do chadtdo usu√°rio presente em \"Mem√≥ria do Usu√°rio (memory):\".`, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        -416,
        32
      ],
      "id": "cca813c5-6cf7-46fe-b5d1-1ca08f837b2c",
      "name": "rag"
    },
    {
      "parameters": {
        "content": "## üåê MCP SERVER TRIGGER\n\nServidor central respons√°vel por concentrar e organizar todas as nossas fun√ß√µes, incluindo l√≥gica de neg√≥cios, agendamentos e integra√ß√µes.\n",
        "height": 316,
        "width": 520,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -112,
        -128
      ],
      "typeVersion": 1,
      "id": "2da3b891-e22d-4de3-a286-cf67bd50f930",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## ü§ñ CHATS ESPECIALIZADOS\n\nAgentes IA especializados em responder o lead",
        "height": 320,
        "width": 656,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -800,
        -128
      ],
      "id": "67e2617a-5e51-4949-a0d4-87bbdf61e526",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "name": "store",
        "description": "### 4. CHAT IA | LOJA (`store`)\n**Fun√ß√£o**: Auxiliar o usu√°rio no **processo de vendas de itens da loja**, informando pre√ßo, detalhes do produto, quantidade do estoque.\n\n**QUANDO USAR**:\n  - Quando o usu√°rio deseja **comprar algum produto da loja**\n  - Quando o usu√°rio quer saber **sobre algum produto**\n  - Quando o usu√°rio deseja **comprar algum produto**\n  - Quando o usu√°rio solicita **informa√ß√£o de estoque de algum produto**\n  - Quando o usu√°rio solicita **recomenda√ß√£o sobre algum produto**\n\n**QUANDO N√ÉO USAR**:\n- Este chat **n√£o faz agendamento de aulas de surf**\n- Este chat **n√£o tira d√∫vidas gerais ou sobre aulas de surf**",
        "workflowId": {
          "__rl": true,
          "value": "dKcotiGvFfz3AT0F",
          "mode": "list",
          "cachedResultName": "üí≠ CHAT IA | LOJA"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `Ser√° a quest√£o enviada pelo o usu√°rio`, 'string') }}",
            "memory": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('memory', `Ser√° a memoria do chadtdo usu√°rio presente em \"Mem√≥ria do Usu√°rio (memory):\".`, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        -736,
        32
      ],
      "id": "926b13c8-440a-482e-9de7-dff0134f6b0d",
      "name": "store"
    },
    {
      "parameters": {
        "content": "## üõ†Ô∏èüóìÔ∏è FERRAMENTAS ESPEC√çFICAS DE AGENDAMENTOS\n\nFerramentas usadas pelos agentes ia de agendamentos ( schedulingAgent ) com fun√ß√µes espec√≠ficas de ( Marcar, Desmarcar e Consultar Hor√°rios dispon√≠veis )",
        "height": 320,
        "width": 688,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        448,
        -128
      ],
      "id": "aaec5bd3-d2b3-4174-a0ec-10d5ada71f59",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "name": "checkAvailability",
        "description": "### 1. CONSULTA DE HOR√ÅRIOS DISPON√çVEIS (`checkAvailability`)\n**Fun√ß√£o**: Verificar e apresentar op√ß√µes de datas e hor√°rios dispon√≠veis para aulas de surf\n\n**QUANDO USAR**:\n- Quando o usu√°rio solicita verificar disponibilidade de hor√°rios\n- Quando o usu√°rio pergunta sobre dias ou hor√°rios espec√≠ficos\n- Quando o usu√°rio deseja saber quando um hor√°rio espec√≠fico est√° dispon√≠vel\n- Quando o usu√°rio menciona \"agenda\", \"disponibilidade\" ou termos relacionados\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o fornece informa√ß√µes detalhadas sobre as aulas\n- Esse recurso n√£o processa o agendamento final\n- Esse recurso n√£o cancela ou altera consultas existentes\n- Esse recurso n√£o faz recomenda√ß√µes sobre qual equipamentos usar",
        "workflowId": {
          "__rl": true,
          "value": "ziG62bXxAbRPOA1O",
          "mode": "list",
          "cachedResultName": "üîß Tools | Scheduling"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "type": "getDates"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "type",
              "displayName": "type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "data",
              "displayName": "data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": true
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        528,
        48
      ],
      "id": "85774c5b-c632-447b-bd3d-bd3d395a2a46",
      "name": "checkAvailability"
    },
    {
      "parameters": {
        "name": "cancelSchedule",
        "description": "### 3. CANCELAMENTO OU REMARCA√á√ÉO (`cancelSchedule`)\n**Fun√ß√£o**: Processar solicita√ß√µes de altera√ß√£o ou cancelamento de aulas existentes\n\n**QUANDO USAR**:\n- Quando o usu√°rio solicita explicitamente cancelar uma aula\n- Quando o usu√°rio solicita alterar a data ou hor√°rio de um agendamento\n- Quando o usu√°rio menciona impossibilidade de comparecer em data agendada\n- Quando √© necess√°rio verificar pol√≠ticas de cancelamento ou remarca√ß√£o\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o cria novos agendamentos do zero\n- Esse recurso n√£o consulta hor√°rios dispon√≠veis sem contexto de remarca√ß√£o\n- Esse recurso n√£o fornece informa√ß√µes sobre aulas\n- Esse recurso n√£o processa simultaneamente cancelamento e nova marca√ß√£o",
        "workflowId": {
          "__rl": true,
          "value": "ziG62bXxAbRPOA1O",
          "mode": "list",
          "cachedResultName": "üîß Tools | Scheduling"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "memory": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('memory', `Ser√° o identificador do chat do usu√°rio presente em \"Identificador do usu√°rio\".`, 'string') }}",
            "type": "cancelAppointment"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "type",
              "displayName": "type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "data",
              "displayName": "data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": true
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        944,
        48
      ],
      "id": "1ebbbdb8-a5e4-4e17-8e0e-0d34a98e9b04",
      "name": "cancelSchedule"
    },
    {
      "parameters": {
        "name": "scheduleAppointment",
        "description": "### 2. MARCA√á√ÉO DE CONSULTA (`scheduleAppointment`)\n**Fun√ß√£o**: Processar e confirmar novos agendamentos de aulas de surf\n\n**QUANDO USAR**:\n- Quando o usu√°rio seleciona um hor√°rio espec√≠fico dentre as op√ß√µes apresentadas\n- Quando o usu√°rio expressa inten√ß√£o clara de agendar uma aula\n- Quando o usu√°rio confirma seus dados pessoais para finalizar agendamento\n- Quando √© necess√°rio gerar um protocolo de confirma√ß√£o para um novo agendamento\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o consulta hor√°rios dispon√≠veis sem iniciar um agendamento\n- Esse recurso n√£o processa altera√ß√µes em aulas j√° marcadas\n- Esse recurso n√£o realiza cancelamentos\n- Esse recurso n√£o fornece orienta√ß√µes detalhadas sobre as aulas",
        "workflowId": {
          "__rl": true,
          "value": "ziG62bXxAbRPOA1O",
          "mode": "list",
          "cachedResultName": "üîß Tools | Scheduling"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "memory": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('memory', `Ser√° a memoria do chadtdo usu√°rio presente em \"Mem√≥ria do Usu√°rio (memory):\".`, 'string') }}",
            "data": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('data', `Ser√° um JSON no sequinte formato exemplar:\n\n{\n    \"name\": \"jhon Doe\",\n    \"number\": \"11999999999\",\n    \"email\": \"test@example.com\",\n    \"scheduling\": \"2025-08-29 10:00\"\n}`, 'string') }}",
            "type": "scheduleAppointment"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "type",
              "displayName": "type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "data",
              "displayName": "data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": false
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        736,
        48
      ],
      "id": "4da30268-cbee-4afa-8f64-3fad49835447",
      "name": "scheduleAppointment"
    },
    {
      "parameters": {
        "content": "## üõ†Ô∏èü§î FERRAMENTAS ESPEC√çFICAS PARA TIRAR D√öVIDAS\n\nFerramentas usadas pelos agentes ia de tirar d√∫vidas ( rag ) com fun√ß√µes espec√≠ficas de ( FAQ, Termos e Servi√ßo )",
        "height": 320,
        "width": 688,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        448,
        224
      ],
      "id": "979e8606-806c-4abb-bf28-50e1ff8480a8",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "## üõ†Ô∏èüõí FERRAMENTAS ESPEC√çFICAS PARA LOJA\n\nFerramentas usadas pelos agentes ia de loja ( store ) com fun√ß√µes espec√≠ficas de ( Produtos, Estoque, Entrega e Pagamentos )",
        "height": 320,
        "width": 688
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        448,
        -480
      ],
      "id": "98084ce4-1620-4495-84f9-ebc0eefe052c",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "name": "products",
        "description": "### 1. CONSULTA DE PRODUTOS DISPON√çVEIS E ESTOQUE(`products`)\n**Fun√ß√£o**: Verificar e apresentar op√ß√µes de produtos da loja online e f√≠sica e seu estoque\n\n**QUANDO USAR**:\n- Quando o usu√°rio solicita verificar disponibilidade de produtos\n- Quando o usu√°rio solicita imagens dos produtos\n- Quando o usu√°rio pergunta sobre estoque ou produtos espec√≠ficos\n- Quando o usu√°rio deseja saber se um produto espec√≠fico est√° dispon√≠vel\n- Quando o usu√°rio menciona \"produto\", \"estoque\", \"disponibilidade\" ou termos relacionados\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o fornece informa√ß√µes sobre entregas\n- Esse recurso n√£o processa o pagamento final\n- Esse recurso n√£o cancela a venda de um produto\n- Esse recurso n√£o processa devolu√ß√£o de produtos\n- Esse recurso n√£o faz recomenda√ß√µes sobre produtos",
        "workflowId": {
          "__rl": true,
          "value": "BW5JIYQjJ8AAxNMd",
          "mode": "list",
          "cachedResultName": "üîß Tools | Store"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "service": "products",
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `query do cliente referente aos produtos que ele esta querendo verificar.`, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "service",
              "displayName": "service",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "local_destino",
              "displayName": "local_destino",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        528,
        -304
      ],
      "id": "f66517eb-d2d7-4d03-af60-dfff2890ba4f",
      "name": "products"
    },
    {
      "parameters": {
        "name": "payment",
        "description": "### 3. M√âTODO DE PAGAMENTO (`payment`)\n**Fun√ß√£o**: Fun√ß√£o de realizar o pagamento da compra do cliente\n\n**QUANDO USAR**:\n- Quando o usu√°rio solicita verificar valor final da compra\n- Quando o usu√°rio pergunta sobre m√©todo de pagamento\n- Quando o usu√°rio deseja realizar o pagamento da compra\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o fornece informa√ß√µes sobre produtos ou estoque\n- Esse recurso n√£o fornece informa√ß√µes sobre entregas\n- Esse recurso n√£o cancela a venda de um produto\n- Esse recurso n√£o processa devolu√ß√£o de produtos\n- Esse recurso n√£o faz recomenda√ß√µes sobre produtos",
        "workflowId": {
          "__rl": true,
          "value": "BW5JIYQjJ8AAxNMd",
          "mode": "list",
          "cachedResultName": "üîß Tools | Store"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "service": "payment"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "service",
              "displayName": "service",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": true
            },
            {
              "id": "local_destino",
              "displayName": "local_destino",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        944,
        -304
      ],
      "id": "bee72b04-d0bd-45c3-b0e4-e7caac217147",
      "name": "payment"
    },
    {
      "parameters": {
        "name": "delivery",
        "description": "### 2. CONSULTA DE VALORES DE ENTREGA(`delivery`)\n**Fun√ß√£o**: Verificar e apresentar o valor do frete/entrega dos produtos\n\n**QUANDO USAR**:\n- Quando o usu√°rio solicita verificar valor de entrega/frete\n- Quando o usu√°rio pergunta sobre locais dispon√≠veis para entrega\n- Quando o usu√°rio menciona \"entrega\", \"frete\", ou termos relacionados\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o fornece informa√ß√µes sobre produtos ou estoque\n- Esse recurso n√£o processa o pagamento final\n- Esse recurso n√£o cancela a venda de um produto\n- Esse recurso n√£o processa devolu√ß√£o de produtos\n- Esse recurso n√£o faz recomenda√ß√µes sobre produtos",
        "workflowId": {
          "__rl": true,
          "value": "BW5JIYQjJ8AAxNMd",
          "mode": "list",
          "cachedResultName": "üîß Tools | Store"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "local_destino": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('local_destino', `CEP do destino da entrega do cliente\n\n# EXEMPLO:\n{\n  \"local_destino\": {\n    \"cep\": 60334128,\n    \"rua\": \"Tamba√∫\",\n    \"numero\": 223,\n    \"complemento\": \"Na esquina da rua.\"\n  }\n}`, 'string') }}",
            "service": "delivery"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "service",
              "displayName": "service",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "query_keyword",
              "displayName": "query_keyword",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": true
            },
            {
              "id": "local_destino",
              "displayName": "local_destino",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        736,
        -304
      ],
      "id": "d181690c-cc9d-4a52-b24d-157659071114",
      "name": "delivery"
    },
    {
      "parameters": {
        "name": "schedulingAgent",
        "description": "### 3. CHAT IA | AGENDAMENTOS DE AULAS DE SURF (`scheduling`)\n**Fun√ß√£o**: Auxiliar o usu√°rio no **processo de agendamento de aulas de surf**, informando op√ß√µes de dias, hor√°rios e professores para marca√ß√£o.\n\n**QUANDO USAR**:\n- Quando o usu√°rio deseja **agendar uma aula de surf**\n- Quando o usu√°rio pergunta sobre **disponibilidade de datas ou hor√°rios**\n- Quando o usu√°rio solicita **informa√ß√µes para marcar uma aula de surf**\n- Quando o usu√°rio quer saber **como realizar o agendamento**\n\n**QUANDO N√ÉO USAR**:\n- Este chat **n√£o oferece orienta√ß√µes de produtos personalizadas**\n- Este chat **n√£o realiza diagn√≥sticos nem recomenda produtos**\n- Este chat **n√£o responde d√∫vidas gerais sobre a loja ou produtos**\n- Este chat **n√£o apresenta detalhes t√©cnicos sobre os produtos**\n",
        "workflowId": {
          "__rl": true,
          "value": "5oTF5l5Lbx8vWg9U",
          "mode": "list",
          "cachedResultName": "üí≠ CHAT IA | AGENDAMENTO"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `Ser√° a quest√£o enviada pelo o usu√°rio`, 'string') }}",
            "memory": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('memory', `Ser√° a memoria do chadtdo usu√°rio presente em \"Mem√≥ria do Usu√°rio (memory):\".`, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "memory",
              "displayName": "memory",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        -576,
        32
      ],
      "id": "c532c8c9-209d-4670-984b-8f71b8230183",
      "name": "scheduling"
    },
    {
      "parameters": {
        "name": "register",
        "description": "### 2. REGISTRANDO NOVAS FAQs (`register`)\n**Fun√ß√£o**: Registra novas faqs sempre que o banco de dados n√£o encrontrar nenhuma informa√ß√£o sobre a d√∫vida do usu√°rio\n\n**QUANDO USAR**:\n- Quando o banco de dados n√£o retorna uma resposta\n- Quando o banco de dados n√£o encrontrar uma resposta para o cliente\n- Quando o banco de dados n√£o retorna nada\n- Quando o banco de dados retorna a informa√ß√£o de n√£o ter encontrado nada correspondente\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o realiza buscas no banco de dados\n- Esse recurso n√£o fornece informa√ß√µes sobre a disponibilidade de hor√°rios.\n- Esse recurso n√£o √© usado para marcar, cancelar ou alterar agendamentos.\n- Esse recurso n√£o deve ser usado para obter descri√ß√µes detalhadas de servi√ßos ou termos.\n- Esse recurso n√£o fornece descri√ß√£o ou explica√ß√£o sobre produtos espec√≠ficos\n- Esse recurso n√£o processa solicita√ß√µes de compras ou trocas.",
        "workflowId": {
          "__rl": true,
          "value": "teYni0RhlCFzLRXB",
          "mode": "list",
          "cachedResultName": "üîß Tools | RAG"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `Questionamento do usu√°io. Aquilo que o usu√°rio esta perguntando ou querendo tirar d√∫vida.`, 'string') }}",
            "function": "new"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "function",
              "displayName": "function",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        880,
        400
      ],
      "id": "879feab5-7954-4ecd-9607-a99812c2a25c",
      "name": "register"
    },
    {
      "parameters": {
        "name": "RAG",
        "description": "### 1. PERGUNTAS FREQUENTES, TERMOS E SERVI√áOS (`RAG`)\n**Fun√ß√£o**: Consultar um banco de dados de perguntas frequentes, termos e servi√ßos para encontrar respostas para d√∫vidas comuns dos clientes. A ferramenta usa busca vetorial para entender o significado da pergunta e retornar a resposta mais relevante.\n\n**QUANDO USAR**:\n- Quando o usu√°rio faz uma pergunta sobre informa√ß√µes gerais da empresa, como hor√°rios, equipamentos, localiza√ß√£o ou pol√≠ticas b√°sicas.\n- Quando o usu√°rio faz uma pergunta que pode ser respondida de forma objetiva, como \"Voc√™s fornecem equipamentos?\" ou \"Qual o hor√°rio de atendimento?\".\n- Quando a d√∫vida √© direta e se encaixa em uma das categorias: loja f√≠sica, loja online ou aulas de surf.\n- Quando o usuario requisita informa√ß√£o sobre os termos e servi√ßos da empresa\n- Quando a d√∫vida do usu√°rio envolvem com os termos ou servi√ßos\n\n**QUANDO N√ÉO USAR**:\n- Esse recurso n√£o fornece informa√ß√µes sobre a disponibilidade de hor√°rios.\n- Esse recurso n√£o √© usado para marcar, cancelar ou alterar agendamentos.\n- Esse recurso n√£o fornece descri√ß√£o ou explica√ß√£o sobre produtos espec√≠ficos\n- Esse recurso n√£o processa solicita√ß√µes de compras ou trocas.",
        "workflowId": {
          "__rl": true,
          "value": "teYni0RhlCFzLRXB",
          "mode": "list",
          "cachedResultName": "üîß Tools | RAG"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('query', `Questionamento do usu√°io. Aquilo que o usu√°rio esta perguntando ou querendo tirar d√∫vida.`, 'string') }}",
            "function": "search"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "function",
              "displayName": "function",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.1,
      "position": [
        624,
        400
      ],
      "id": "ea29ed64-d0f0-4769-8ef9-0aa6fa5a1360",
      "name": "RAG"
    }
  ],
  "pinData": {},
  "connections": {
    "inicialService": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "rag": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "store": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "checkAvailability": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "scheduleAppointment": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "cancelSchedule": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "products": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "delivery": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "payment": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "scheduling": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "register": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "RAG": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "1d146b98-9bb7-45cb-af69-04de62e87922",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "33738330930e3881dd5571eca013f36ddf8aab20e4ea5c1f2ebaf4a2b4668ac6"
  },
  "id": "0nUONWVOX0Lp7Fgq",
  "tags": [
    {
      "createdAt": "2025-08-22T18:59:56.081Z",
      "updatedAt": "2025-08-22T18:59:56.081Z",
      "id": "2pEE61GlxjAhVgV3",
      "name": "MCP"
    },
    {
      "createdAt": "2025-08-22T19:00:42.547Z",
      "updatedAt": "2025-08-22T19:00:42.547Z",
      "id": "EP5SBiM8pNpr4aOY",
      "name": "Mult-Agent"
    },
    {
      "createdAt": "2025-08-22T19:00:19.825Z",
      "updatedAt": "2025-08-22T19:00:19.825Z",
      "id": "bSQasn7wRenC626N",
      "name": "Surf & Cloths"
    }
  ]
}